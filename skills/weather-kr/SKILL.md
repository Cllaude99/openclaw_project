---
name: weather-kr
description: 한국 주요 도시의 현재 날씨 및 오늘/내일 예보를 제공합니다
emoji: 🌤
requires:
  - curl
  - jq
---

# 한국 날씨 스킬

## 사용 시점

사용자가 다음과 같은 키워드를 언급할 때 이 스킬을 사용합니다:
- "날씨", "기온", "비", "눈", "미세먼지", "오늘 날씨", "내일 날씨"
- 특정 도시명 + 날씨 (예: "부산 날씨", "제주 날씨")

## 데이터 수집 방법

`scripts/fetch_weather.sh` 스크립트를 실행하여 Open-Meteo API에서 데이터를 수집합니다.

```bash
bash skills/weather-kr/scripts/fetch_weather.sh
```

### 스크립트 출력 형식 (JSON)
```json
{
  "cities": [
    {
      "name": "서울",
      "current_temp": 5.2,
      "feels_like": 2.1,
      "weather_code": 3,
      "weather_desc": "흐림",
      "humidity": 65,
      "wind_speed": 12.5,
      "today_max": 8.0,
      "today_min": -1.0,
      "tomorrow_max": 10.0,
      "tomorrow_min": 1.0,
      "precipitation_prob": 20
    }
  ],
  "fetched_at": "2025-01-15T09:30:00+09:00"
}
```

## WMO Weather Code 매핑

| 코드 | 설명 |
|------|------|
| 0 | 맑음 ☀️ |
| 1-3 | 구름 조금/많음/흐림 ⛅🌥☁️ |
| 45, 48 | 안개 🌫 |
| 51-55 | 이슬비 🌦 |
| 61-65 | 비 🌧 |
| 71-75 | 눈 🌨 |
| 80-82 | 소나기 🌧 |
| 95-99 | 뇌우 ⛈ |

## 응답 형식

### 브리핑용 (간략)
```
🌤 날씨
• 서울: 흐림 5°C (체감 2°C), 최고 8°C / 최저 -1°C
• 부산: 맑음 9°C, 최고 12°C / 최저 3°C
• 제주: 구름많음 8°C, 최고 11°C / 최저 4°C
```

### 개별 조회용 (상세)
```
🌤 서울 날씨 (기준: 09:30 KST)

현재: 흐림 ☁️ 5.2°C (체감 2.1°C)
습도: 65% | 바람: 12.5 km/h
강수 확률: 20%

📊 오늘: 최고 8°C / 최저 -1°C
📊 내일: 최고 10°C / 최저 1°C
```

## 주의사항

- Open-Meteo API는 무료이며 API 키가 필요 없습니다
- 좌표 기반 API이므로 도시별 좌표가 스크립트에 하드코딩되어 있습니다
- 데이터는 1시간 간격으로 갱신됩니다
- 미세먼지 정보는 별도 API 필요 (현재 미지원)
